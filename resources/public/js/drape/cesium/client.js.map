{"version":3,"file":"\/home\/ru\/clojure\/simpro-scene\/resources\/public\/js\/drape\/cesium\/client.js","sources":["client.cljs"],"lineCount":266,"mappings":"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\/BAAE9G;IACP,OAAK,AAAA,AAAA8G,yDAAA,\/BAAE9G;IACP,OAAK,CAAG,CAAA,CAAA,QAAA,UAAA,QAAA,zBAAGkI,kCAAkB\/C;IAFpC,YAG8B,AAACiB,gCAAQtE,OAAOoG;UAH9C,AAAA7C,wBAAA2C,UAAA,IAAA,5CAGQ;UAHR,AAAA3C,wBAAA2C,UAAA,IAAA,5CAGY;UAHZ,AAAA3C,wBAAA2C,UAAA,IAAA,5CAGgB;WAHhBA,PAGwB;IAHxB,YAIiB,kDAAA,lDAACzC,qIAAiBmB,IAAIC,YAAKT,KAAKC,IAAIgC;UAJrD,AAAA9C,wBAAA4C,UAAA,IAAA,5CAIQ;UAJR,AAAA5C,wBAAA4C,UAAA,IAAA,5CAIY;IACL,OAAK,AAACrC,wBAAI,wBAAA,xBAACC;kBAAD;AAAA,AAAM,OAACuC,8BAAiC,0BAAAC,1BAACC,2CAAS,2BAAAD,3BAACE,4CAAU,wBAAAF,gBAAA,xCAAChD;;CAAUmD;IAClF,WAAS,AAAC5C,wBAAI,wBAAA,xBAACC;kBAAD;AAAA,AAAM,OAACX,+BAAO,CAAAuD,kBAAKtD;;CAAaQ;IAC9C,QAAM,AAACoB,eAAK,AAAWjF,eAAQ6D;AAPtC,AAQE,AAAA2B,sDAAA,0BAAA,AAAAC,gDAAA,0DAAA,sEAAA,oGAAA,2DAAA,0DAAA,vbAAQvH,yEAAAA,rDAAMwH,+HAAYkB,kEACiBC,kEACF,AAACP,8BAAiC1B,IAAIC,IAAIR,0DAC5CyC;;AAEvC,OAACvB,kBAAQvF,OAAO8G;;AAjBpB,oBAAA,AAAAd,qBAAA,oDAAAC;AAmBE,AAAI,AAAejG;;AACjB,OAAAwF,sDAAA,0BAAA,AAAAC,gDAAA,0DAAA,xJAAQvH,yEAAAA,rDAAMwH;;AApBlB,MAAA,KAAA1E,MAAA,CAAA,mEAAAiF","names":["cesium.client\/VIEWER","js\/Cesium.Viewer","cesium.client\/CLOCK","cesium.client\/SCENE","cesium.client\/CAMERA","cesium.client\/CANVAS","cesium.client\/HOME-VIEW","cesium.client\/CLOCK-SET","cesium.client\/CZML-DS","js\/Cesium.CzmlDataSource","cesium.client\/KML-DS","js\/Cesium.KmlDataSource","cesium.client\/EVENT-URL","cesium.client\/EVENT-DEBUG","cesium.client\/ORBIT","cljs.core\/volatile!","cesium.client\/add-imagery-by-asset-id","viewer","ilays","js\/Cesium.IonImageryProvider","id","cesium.client\/add-terrain","js\/Cesium.createWorldTerrain","options","cesium.client\/camera-home","map__1327","cljs.core\/PROTOCOL_SENTINEL","cljs.core\/apply","cljs.core\/hash-map","cljs.core\/get","view","js\/Cesium.Cartesian3.fromDegrees","longitude","latitude","height","js\/Cesium.HeadingPitchRoll.fromDegrees","heading","pitch","roll","cljs.core\/clj->js","pos","orient","js\/Cesium.Matrix4.IDENTITY","e","camera","cesium.client\/clock-settings","map__1329","settings","clock","animate","js\/Cesium.JulianDate.fromIso8601","start","stop","current","mult","js\/Cesium.ClockStep.SYSTEM_CLOCK_MULTIPLIER","js\/Cesium.ClockRange.LOOP_STOP","cesium.client\/load-data","pred__1331","expr__1332","js\/Error","cljs.core\/=","format","js\/Cesium.GeoJsonDataSource.load","source","js\/Cesium.CzmlDataSource.load","js\/Cesium.KmlDataSource.load","promise","ds","processor","cesium.client\/start-event-processing","cljs.core\/println","data","js\/JSON.parse","js\/DOMParser","js\/EventSource","es","cz-processor","km-processor","cesium.client\/position-js","js\/Math.cos","phi1","js\/Math.sin","az","c","js\/Math.asin","sinphi1","cosc","cosphi1","sinc","cosaz","js\/Math.atan2","sinaz","lambda0","lam2","phi2","cesium.client\/normaz","js\/Math.PI","p__1335","cljs.core\/nth","vec__1336","cesium.client\/azimuths&points","N","cljs.core\/range","s","azs","cljs.core\/vec","cljs.core\/map","cljs.core\/concat","p1__1334#","c-lambda","c-phi","radr","hgt","cesium.client\/look-at","vec__1339","vec__1342","js\/Cesium.Cartographic.fromCartesian","cmp","dist-m","lam","phi","cesium.client\/add-orbit-button","js\/Cesium.HeadingPitchRoll","cljs.core\/deref","next","cam","js\/Cesium.EasingFunction.LINEAR_NONE","fly-next","fly-cancel","cljs.core\/count","fly-one","cljs.core\/-vreset!","cljs.core\/-deref","cljs.core\/assoc","cljs.core\/filter","p1__1345#","n","js\/document","obut","pred__1348","expr__1349","vec__1351","vec__1354","radm","steps","js\/Cesium.Cartesian3.fromRadians","p1__1346#","cljs.core\/first","cljs.core\/second","pts","p1__1347#","ring","headings","begin"]}