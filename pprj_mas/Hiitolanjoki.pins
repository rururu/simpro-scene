; Mon Dec 09 22:21:35 MSK 2019
; 
;+ (version "3.5")
;+ (build "Build 663")

([Hiitolanjoki_Class0] of  ShapeLayer

	(class "com.bbn.openmap.layer.shape.ShapeLayer")
	(fillColor "FFFF6400")
	(label "child-salmons")
	(lineColor "FFFF6400")
	(pointOval "true")
	(pointRadius "2")
	(prettyName "Child_Salmons")
	(shapeFile "data/mas/hiitolanjoki/shape/Child_salmons.shp")
	(spatialIndex "data/mas/hiitolanjoki/shape/Child_salmons.shx"))

([Hiitolanjoki_Class10000] of  ShapeLayer

	(class "com.bbn.openmap.layer.shape.ShapeLayer")
	(fillColor "200000FF")
	(label "HiiLakes")
	(lineColor "ff0000ff")
	(prettyName "Hiitolanjoki Lakes")
	(shapeFile "data/mas/hiitolanjoki/shape/hiitolanjoki_a.shp")
	(spatialIndex "data/mas/hiitolanjoki/shape/hiitolanjoki_a.shx"))

([Hiitolanjoki_Class100000] of  CloVar

	(source "(volatile! {:ways (read-string (slurp KIVIJARVI-ROUTES-FILE))\n                :idx 0})")
	(title "KIVIJARVI-WAYS"))

([Hiitolanjoki_Class100001] of  CloVar

	(source "\"data/mas/hiitolanjoki/ladoga_ways.clj\"")
	(title "LADOGA-ROUTES-FILE"))

([Hiitolanjoki_Class110000] of  CloVar

	(source "(Normal. 0.0 0.0 (MersenneTwisterFast.))")
	(title "normal-distro"))

([Hiitolanjoki_Class12] of  OMTPoly

	(label "Kokkolanjoki3")
	(latitude "61 15.18")
	(line [MapInspector_Class20024])
	(lineColor "FFFF0000")
	(longitude "29 40.65")
	(playground-index 0)
	(points
		"61 15.18 29 40.65"
		"61 15.17 29 40.65"
		"61 15.15 29 40.67"
		"61 15.14 29 40.69"
		"61 15.11 29 40.76"
		"61 15.09 29 40.79"
		"61 15.06 29 40.8"
		"61 15.04 29 40.79"
		"61 15.02 29 40.76"
		"61 15.01 29 40.77"
		"61 14.99 29 40.8"
		"61 14.97 29 40.84"
		"61 14.97 29 40.88"
		"61 14.97 29 40.92"
		"61 14.97 29 40.95"
		"61 14.95 29 40.99"
		"61 14.92 29 41.03"
		"61 14.86 29 41.17"
		"61 14.82 29 41.24"
		"61 14.79 29 41.29"
		"61 14.76 29 41.35"
		"61 14.74 29 41.46"
		"61 14.72 29 41.5"
		"61 14.69 29 41.55"
		"61 14.6 29 41.62"
		"61 14.56 29 41.63"
		"61 14.54 29 41.66"
		"61 14.53 29 41.69"
		"61 14.52 29 41.73"
		"61 14.53 29 41.79"
		"61 14.52 29 41.84"
		"61 14.5 29 41.96"
		"61 14.49 29 42"
		"61 14.47 29 42.05"
		"61 14.46 29 42.12"
		"61 14.45 29 42.19"
		"61 14.47 29 42.26"
		"61 14.47 29 42.31"
		"61 14.46 29 42.37"
		"61 14.45 29 42.41"
		"61 14.43 29 42.45"
		"61 14.4 29 42.5"
		"61 14.38 29 42.51"
		"61 14.32 29 42.5"
		"61 14.26 29 42.52"
		"61 14.22 29 42.52"
		"61 14.19 29 42.53"
		"61 14.17 29 42.54"
		"61 14.15 29 42.53"
		"61 14.13 29 42.54"
		"61 14.11 29 42.55"
		"61 14.08 29 42.6"
		"61 14.07 29 42.63"
		"61 14.06 29 42.67"
		"61 14.05 29 42.72"
		"61 14.05 29 42.75"
		"61 14.04 29 42.83"
		"61 14.04 29 42.85"
		"61 14.03 29 42.87"
		"61 14.01 29 42.89"
		"61 14 29 42.91"
		"61 13.99 29 42.93"
		"61 13.98 29 42.93"
		"61 13.97 29 42.94"
		"61 13.96 29 42.94"
		"61 13.95 29 42.94"
		"61 13.94 29 42.94"
		"61 13.93 29 42.95"
		"61 13.92 29 42.98"
		"61 13.91 29 43.02"
		"61 13.9 29 43.06"
		"61 13.9 29 43.13"
		"61 13.9 29 43.16"
		"61 13.89 29 43.21"
		"61 13.89 29 43.22"
		"61 13.88 29 43.25"
		"61 13.87 29 43.26"
		"61 13.86 29 43.26"
		"61 13.85 29 43.25"
		"61 13.84 29 43.23"
		"61 13.83 29 43.21"
		"61 13.83 29 43.2"
		"61 13.82 29 43.19"
		"61 13.81 29 43.19"
		"61 13.8 29 43.19"
		"61 13.79 29 43.21"
		"61 13.76 29 43.23"
		"61 13.75 29 43.24"
		"61 13.74 29 43.24"
		"61 13.73 29 43.23"
		"61 13.71 29 43.22"
		"61 13.69 29 43.22"
		"61 13.68 29 43.22"
		"61 13.67 29 43.23"
		"61 13.66 29 43.24"
		"61 13.65 29 43.26"
		"61 13.66 29 43.27"
		"61 13.66 29 43.29"
		"61 13.67 29 43.3"
		"61 13.68 29 43.31"
		"61 13.68 29 43.32"
		"61 13.69 29 43.33"
		"61 13.69 29 43.35"
		"61 13.69 29 43.37"
		"61 13.69 29 43.39"
		"61 13.68 29 43.41"
		"61 13.67 29 43.42"
		"61 13.67 29 43.43"
		"61 13.66 29 43.43"
		"61 13.64 29 43.43"
		"61 13.63 29 43.42"
		"61 13.6 29 43.4"
		"61 13.59 29 43.4"
		"61 13.58 29 43.4"
		"61 13.58 29 43.41"
		"61 13.57 29 43.42"
		"61 13.57 29 43.45"
		"61 13.57 29 43.47"
		"61 13.57 29 43.48"
		"61 13.58 29 43.5"
		"61 13.59 29 43.5"
		"61 13.6 29 43.5"
		"61 13.61 29 43.51"
		"61 13.61 29 43.52"
		"61 13.62 29 43.54"
		"61 13.62 29 43.55"
		"61 13.62 29 43.57"
		"61 13.61 29 43.58"
		"61 13.61 29 43.6"
		"61 13.6 29 43.62"
		"61 13.59 29 43.64"
		"61 13.58 29 43.64"
		"61 13.57 29 43.64"
		"61 13.56 29 43.64"
		"61 13.55 29 43.65"
		"61 13.54 29 43.68"
		"61 13.53 29 43.71"
		"61 13.51 29 43.73"
		"61 13.51 29 43.74"
		"61 13.5 29 43.75"
		"61 13.47 29 43.76"
		"61 13.45 29 43.77"
		"61 13.44 29 43.78"
		"61 13.43 29 43.8"
		"61 13.4 29 43.86"
		"61 13.36 29 43.94"
		"61 13.35 29 43.97"
		"61 13.35 29 43.99"
		"61 13.35 29 44.01"
		"61 13.36 29 44.04"
		"61 13.37 29 44.07"
		"61 13.37 29 44.09"
		"61 13.36 29 44.1"
		"61 13.35 29 44.13"
		"61 13.34 29 44.14"
		"61 13.33 29 44.15"
		"61 13.32 29 44.16"
		"61 13.31 29 44.16"
		"61 13.3 29 44.17"
		"61 13.29 29 44.18"
		"61 13.27 29 44.2"
		"61 13.25 29 44.2"
		"61 13.23 29 44.2"
		"61 13.23 29 44.2"
		"61 13.22 29 44.19"
		"61 13.21 29 44.18"
		"61 13.21 29 44.14"
		"61 13.2 29 44.1"
		"61 13.2 29 44.08"
		"61 13.19 29 44.07"
		"61 13.18 29 44.06"
		"61 13.17 29 44.04"
		"61 13.17 29 44.04"
		"61 13.16 29 44.04"
		"61 13.15 29 44.05"
		"61 13.14 29 44.07"
		"61 13.14 29 44.11"
		"61 13.13 29 44.14"
		"61 13.12 29 44.19"
		"61 13.11 29 44.22"
		"61 13.11 29 44.25"
		"61 13.1 29 44.27"
		"61 13.1 29 44.29"
		"61 13.11 29 44.31"
		"61 13.11 29 44.34"
		"61 13.1 29 44.35"
		"61 13.1 29 44.36"
		"61 13.09 29 44.37"
		"61 13.08 29 44.37"
		"61 13.07 29 44.36"
		"61 13.05 29 44.33"
		"61 13.03 29 44.31"
		"61 13.02 29 44.3"
		"61 13.02 29 44.28"
		"61 13 29 44.25"
		"61 13 29 44.25"
		"61 12.99 29 44.24"
		"61 12.97 29 44.25"
		"61 12.95 29 44.27"
		"61 12.94 29 44.29"
		"61 12.93 29 44.3"
		"61 12.92 29 44.32"
		"61 12.91 29 44.34"
		"61 12.9 29 44.36"
		"61 12.89 29 44.39"
		"61 12.88 29 44.42"
		"61 12.88 29 44.43"
		"61 12.88 29 44.45"
		"61 12.88 29 44.47"
		"61 12.89 29 44.49"
		"61 12.9 29 44.53"
		"61 12.91 29 44.6"
		"61 12.92 29 44.62"
		"61 12.92 29 44.64"
		"61 12.92 29 44.66"
		"61 12.91 29 44.67"
		"61 12.9 29 44.69"
		"61 12.89 29 44.7"
		"61 12.88 29 44.71"
		"61 12.86 29 44.72"
		"61 12.82 29 44.76"
		"61 12.79 29 44.79"
		"61 12.78 29 44.8"
		"61 12.76 29 44.81"
		"61 12.75 29 44.81"
		"61 12.72 29 44.8"
		"61 12.7 29 44.8"
		"61 12.68 29 44.81"
		"61 12.68 29 44.82"
		"61 12.67 29 44.82"
		"61 12.66 29 44.84"
		"61 12.64 29 44.88"
		"61 12.63 29 44.89"
		"61 12.62 29 44.91"
		"61 12.61 29 44.93"
		"61 12.6 29 44.96"
		"61 12.6 29 44.97"
		"61 12.59 29 45.02"
		"61 12.59 29 45.02"
		"61 12.58 29 45.03"
		"61 12.57 29 45.04"
		"61 12.57 29 45.04"
		"61 12.56 29 45.04"
		"61 12.54 29 45.02"
		"61 12.53 29 45.01"
		"61 12.52 29 45.01"
		"61 12.51 29 45.01"
		"61 12.5 29 45.02"
		"61 12.49 29 45.05"
		"61 12.48 29 45.1"
		"61 12.47 29 45.11"
		"61 12.47 29 45.12"
		"61 12.45 29 45.15"
		"61 12.44 29 45.18"
		"61 12.43 29 45.21"
		"61 12.43 29 45.23"
		"61 12.42 29 45.25"
		"61 12.42 29 45.27"
		"61 12.43 29 45.29"
		"61 12.43 29 45.3"
		"61 12.42 29 45.32"
		"61 12.42 29 45.33"
		"61 12.42 29 45.34"
		"61 12.41 29 45.36"
		"61 12.4 29 45.38"
		"61 12.39 29 45.4"
		"61 12.39 29 45.41"
		"61 12.38 29 45.41"
		"61 12.38 29 45.42"
		"61 12.37 29 45.42"
		"61 12.36 29 45.42"
		"61 12.35 29 45.41"
		"61 12.33 29 45.41"
		"61 12.32 29 45.41"
		"61 12.31 29 45.41"
		"61 12.3 29 45.42"
		"61 12.28 29 45.45"
		"61 12.22 29 45.59"
		"61 12.21 29 45.63"
		"61 12.2 29 45.65"
		"61 12.19 29 45.67"
		"61 12.18 29 45.69"
		"61 12.17 29 45.7"
		"61 12.17 29 45.72"
		"61 12.16 29 45.73"
		"61 12.15 29 45.77"
		"61 12.15 29 45.77"
		"61 12.15 29 45.79"
		"61 12.14 29 45.82"
		"61 12.12 29 45.87"
		"61 12.11 29 45.9"
		"61 12.1 29 45.92"
		"61 12.06 29 45.98"
		"61 12.04 29 46.01"
		"61 12 29 46.07"
		"61 12 29 46.08"
		"61 11.98 29 46.1"
		"61 11.98 29 46.11"
		"61 11.98 29 46.12"
		"61 11.98 29 46.13"
		"61 11.98 29 46.14"
		"61 11.97 29 46.15"
		"61 11.94 29 46.22")
	(relative FALSE))

([Hiitolanjoki_Class120000] of  CloVar

	(source "8")
	(title "NUM-SPAWN"))

([Hiitolanjoki_Class13] of  OMTPoly

	(label "Kokkolanjoki2")
	(latitude "61 15.28")
	(line [MapInspector_Class20024])
	(lineColor "FFFF0000")
	(longitude "29 40.57")
	(playground-index 0)
	(points
		"61 15.28 29 40.57"
		"61 15.28 29 40.58"
		"61 15.27 29 40.59"
		"61 15.23 29 40.63"
		"61 15.18 29 40.65")
	(relative FALSE))

([Hiitolanjoki_Class130000] of  CloFunction

	(source "(println this world)")
	(title "snapshot [this world]"))

([Hiitolanjoki_Class130001] of  CloFunction

	(source "(let [wm @ways-map\n       idx (:idx wm)\n       ws (:ways wm)\n       way (nth ws idx)\n       way (into-array Double/TYPE way)\n       nxt (inc idx)\n       rnd (LineFollower/randomisedRoute way sx sy distro)]\n  (vswap! ways-map assoc :idx (if (< nxt (count ws)) nxt 0))\n  (LineFollower. rnd factory loc rate))")
	(title "random-ways-walker [ways-map loc rate sx sy distro]"))

([Hiitolanjoki_Class140000] of  CloType

	(cloProtocols [Hiitolanjoki_Class140001])
	(fields "cstate")
	(title "ChildSalmon"))

([Hiitolanjoki_Class140001] of  CloImplementation

	(cloFunctions [Hiitolanjoki_Class140002])
	(title "sim.engine.Steppable"))

([Hiitolanjoki_Class140002] of  CloFunction

	(source "(let [cst @cstate\n       {:keys [phase lake-follower]} cst]\n  (condp = phase\n    :LAKE  (process lake-follower :DONE cstate world)\n    :DONE (start-ysalmon (relay-process lake-follower cst) world)\n    nil))")
	(title "step [this world]"))

([Hiitolanjoki_Class140003] of  CloFunction

	(source "(let [schedule (.schedule world)\n       crd (Coordinate. x y)\n       astate (create-ysalmon-astate crd world)\n       loc (:location @astate)\n       a (YoungSalmon. astate)]\n  (.addGeometry young-salmons loc)\n  (vswap! astate assoc :stopper (.scheduleRepeating schedule a)\n                                  :life-start (:life-start ast))\n  (.setUserData loc astate))")
	(title "start-ysalmon [[x y ast] world]"))

([Hiitolanjoki_Class140005] of  CloVar

	(source "0.0001")
	(title "CHILD-RATE"))

([Hiitolanjoki_Class140006] of  CloVar

	(source "(GeomVectorField. WIDTH HEIGHT)")
	(title "child-salmons"))

([Hiitolanjoki_Class140007] of  CloVar

	(source "(GeomVectorFieldPortrayal.)")
	(title "csalmons-port"))

([Hiitolanjoki_Class150000] of  CloFunction

	(source "(let [inp (.createPoint factory crd)\n       loc (MasonGeometry. inp)\n       rate (.nextDouble normal-distro YOUNG-RATE (/ YOUNG-RATE 4))\n       rf (AttributesFollower. \n            rivers \n            (into-array String (map first YSALMON_RIVER_ROUTE))\n            (into-array Object (map second YSALMON_RIVER_ROUTE))\n            loc \n            rate)\n       lf (random-ways-walker LADOGA-WAYS loc rate 0.002 0.0001 normal-distro)]\n  (volatile! {:location loc\n                  :phase :RIVER\n                  :river-follower rf\n                  :lake-follower lf}))")
	(title "create-ysalmon-astate [crd world]"))

([Hiitolanjoki_Class150003] of  CloType

	(cloProtocols [Hiitolanjoki_Class150004])
	(title "Shooter"))

([Hiitolanjoki_Class150004] of  CloImplementation

	(cloFunctions [Hiitolanjoki_Class150005])
	(title "sim.engine.Steppable"))

([Hiitolanjoki_Class150005] of  CloFunction

	(source "(let [interval (:update-interval AGENT-LAYERS)\n       ss (steps world)]\n  (when (= (mod ss interval) 0)\n    (println :steps ss)\n    (snapshot)\n    (update-shape (:path AGENT-LAYERS) (map first (:layers AGENT-LAYERS)))))")
	(title "step [this world]"))

([Hiitolanjoki_Class160000] of  CloVar

	(source "(Coordinate. 29.886 61.18)")
	(title "ESTUARY"))

([Hiitolanjoki_Class17] of  OMTPoly

	(label "Veijalanjarvi")
	(latitude "61 11.94")
	(line [MapInspector_Class20024])
	(lineColor "FFFF0000")
	(longitude "29 46.22")
	(playground-index 0)
	(points
		"61 11.94 29 46.22"
		"61 11.9 29 46.3"
		"61 11.3 29 47.22"
		"61 10.83 29 48.21")
	(relative FALSE))

([Hiitolanjoki_Class170000] of  CloProgram

	(cloFunctions
		[Hiitolanjoki_Class180011]
		[Hiitolanjoki_Class180002])
	(cloNamespace [Hiitolanjoki_Class180001])
	(cloVars
		[Hiitolanjoki_Class70000]
		[Hiitolanjoki_Class100001])
	(title "World Utilities"))

([Hiitolanjoki_Class170001] of  LADOGA_ROUTES

	(label "lr1")
	(latitude "61 10.81")
	(lineColor "FF007D00")
	(longitude "29 53.07")
	(playground-index 0)
	(points
		"61 10.81 29 53.07"
		"61 10.79 29 53.74"
		"61 10.69 29 54.58"
		"61 10.96 29 54.48"
		"61 11.21 29 53.91")
	(relative FALSE))

([Hiitolanjoki_Class170002] of  Route

	(but-route "Create Route/utils.poly/create-route")
	(poly [Hiitolanjoki_Class170001]))

([Hiitolanjoki_Class170003] of  Route

	(but-route "Create Route/utils.poly/create-route")
	(poly [Hiitolanjoki_Class170008]))

([Hiitolanjoki_Class170004] of  Route

	(but-route "Create Route/utils.poly/create-route")
	(poly [Hiitolanjoki_Class170007]))

([Hiitolanjoki_Class170005] of  Route

	(but-route "Create Route/utils.poly/create-route")
	(poly [Hiitolanjoki_Class170006]))

([Hiitolanjoki_Class170006] of  LADOGA_ROUTES

	(label "lr2")
	(latitude "61 10.81")
	(lineColor "FF007D00")
	(longitude "29 53.1")
	(playground-index 0)
	(points
		"61 10.81 29 53.1"
		"61 10.73 29 53.7"
		"61 10.87 29 53.73"
		"61 11.04 29 53.42"
		"61 11.11 29 53.32"
		"61 11.2 29 53.9"
		"61 11.22 29 54.64"
		"61 11.31 29 55.11"
		"61 11.49 29 55.11"
		"61 11.59 29 55.45")
	(relative FALSE))

([Hiitolanjoki_Class170007] of  LADOGA_ROUTES

	(label "lr3")
	(latitude "61 10.81")
	(lineColor "FF007D00")
	(longitude "29 53.13")
	(playground-index 0)
	(points
		"61 10.81 29 53.13"
		"61 10.7 29 53.22"
		"61 10.76 29 53.64"
		"61 10.76 29 54.47"
		"61 10.75 29 55.03")
	(relative FALSE))

([Hiitolanjoki_Class170008] of  LADOGA_ROUTES

	(label "lr4")
	(latitude "61 10.8")
	(lineColor "FF007D00")
	(longitude "29 53.1")
	(playground-index 0)
	(points
		"61 10.8 29 53.1"
		"61 10.74 29 53.28"
		"61 10.81 29 53.85"
		"61 10.6 29 54.61"
		"61 10.29 29 54.8"
		"61 9.95 29 54.57"
		"61 9.73 29 54.18"
		"61 9.77 29 53.6")
	(relative FALSE))

([Hiitolanjoki_Class170010] of  CloVar

	(source "(volatile! {:ways (read-string (slurp LADOGA-ROUTES-FILE))\n                :idx 0})")
	(title "LADOGA-WAYS"))

([Hiitolanjoki_Class170011] of  PASTURES

	(label "Pasture4")
	(latitude "61 9.78")
	(lineColor "FFFF0000")
	(longitude "29 53.58")
	(oval TRUE)
	(playground-index 0)
	(point-radius 10))

([Hiitolanjoki_Class170012] of  PASTURES

	(label "Pasture2")
	(latitude "61 11.58")
	(lineColor "FFFF0000")
	(longitude "29 55.44")
	(oval TRUE)
	(playground-index 0)
	(point-radius 10))

([Hiitolanjoki_Class170013] of  PASTURES

	(label "Pasture3")
	(latitude "61 10.74")
	(lineColor "FFFF0000")
	(longitude "29 55.02")
	(oval TRUE)
	(playground-index 0)
	(point-radius 10))

([Hiitolanjoki_Class170014] of  PASTURES

	(label "Pasture1")
	(latitude "61 11.22")
	(lineColor "FFFF0000")
	(longitude "29 53.88")
	(oval TRUE)
	(playground-index 0)
	(point-radius 10))

([Hiitolanjoki_Class170021] of  KIVIJARVI_ROUTES

	(label "kr1")
	(latitude "61 27")
	(lineColor "FFFF7D00")
	(longitude "29 21.78")
	(playground-index 0)
	(points
		"61 27 29 21.78"
		"61 26.88 29 22.02"
		"61 26.58 29 22.38"
		"61 26.82 29 21.6"
		"61 26.76 29 21.18"
		"61 26.64 29 20.88")
	(relative FALSE))

([Hiitolanjoki_Class170022] of  KIVIJARVI_ROUTES

	(label "kr3")
	(latitude "61 26.52")
	(lineColor "FFFF7D00")
	(longitude "29 22.26")
	(playground-index 0)
	(points
		"61 26.52 29 22.26"
		"61 26.76 29 22.62"
		"61 26.88 29 22.32"
		"61 26.82 29 21.6"
		"61 26.76 29 21.18"
		"61 26.64 29 20.88")
	(relative FALSE))

([Hiitolanjoki_Class170023] of  KIVIJARVI_ROUTES

	(label "kr2")
	(latitude "61 26.7")
	(lineColor "FFFF7D00")
	(longitude "29 22.8")
	(playground-index 0)
	(points
		"61 26.7 29 22.8"
		"61 26.94 29 22.5"
		"61 26.58 29 22.32"
		"61 26.82 29 21.6"
		"61 26.76 29 21.18"
		"61 26.64 29 20.88")
	(relative FALSE))

([Hiitolanjoki_Class18] of  MLayer

	(m-polygons [Hiitolanjoki_Class20])
	(pointer 4)
	(title "Hiitolanjoki Vesi"))

([Hiitolanjoki_Class180000] of  CloFunction

	(source "(let [schedule (.schedule world)\n       crd (Coordinate. x y)\n       astate (create-asalmon-astate crd world)\n       loc (:location @astate)\n       a (AdultSalmon. astate)]\n  (.addGeometry adult-salmons loc)\n  (vswap! astate assoc :stopper (.scheduleRepeating schedule a)\n                                  :life-start (:life-start ast))\n  (.setUserData loc astate))")
	(title "start-asalmon [[x y ast] world]"))

([Hiitolanjoki_Class180001] of  CloNamespace

	(source "(:use\n  protege.core)\n(:require\n  [utils.poly :as up])\n(:import\n  edu.stanford.smi.protege.model.Instance)")
	(title "mas.world.util"))

([Hiitolanjoki_Class180002] of  CloFunction

	(source "(println \"Prepare World..\")\n(println \"Write\" KIVIJARVI-ROUTES-FILE)\n(save-points-lola (cls-instances \"KIVIJARVI_ROUTES\") KIVIJARVI-ROUTES-FILE)\n(println \"Write\" LADOGA-ROUTES-FILE)\n(save-points-lola (cls-instances \"LADOGA_ROUTES\") LADOGA-ROUTES-FILE)")
	(title "prepare-world [hm ins]"))

([Hiitolanjoki_Class180003] of  MASWorldPanel

	(but-world-prepare "Prepare World/mas.world.util/prepare-world")
	(but-world-run "Multiple Run WorldGUI/mas.world/mult-run-world-gui")
	(but-world-run1 "One Run WorldGUI/mas.world/one-run-world-gui")
	(iPorts-class "mas.world.hiitolanjoki.JokiPorts")
	(iWorld-class "mas.world.hiitolanjoki.JokiWorld"))

([Hiitolanjoki_Class180011] of  CloFunction

	(source "([y]\n  (if (instance? Instance y)\n    (let [pp (up/latlon (svs y \"points\"))]\n      (vec (interleave (map second pp) (map first pp))))\n    (vec (for [poi y] (save-points-lola poi)))))\n([y f]\n  (spit f (save-points-lola y)))")
	(title "save-points-lola"))

([Hiitolanjoki_Class180012] of  CloFunction

	(source "(if (string? y)\n  (let [[da ma do mo] (.split y \" \")]\n    [(MapOb/getDeg (str da \" \" ma))\n     (MapOb/getDeg (str do \" \" mo))])\n  (vec (map latlon y)))")
	(title "latlon [y]"))

([Hiitolanjoki_Class180021] of  CloFuncall

	(source "(compile 'mas.world.hiitolanjoki)"))

([Hiitolanjoki_Class19] of  MLayer

	(pointer 5)
	(title "ArcGIS Tiles"))

([Hiitolanjoki_Class190000] of  CloFuncall

	(source "(mas.world.hiitolanjoki/agent-state mas.world.hiitolanjoki/child-salmons 0)"))

([Hiitolanjoki_Class190001] of  CloFunction

	(source "(let [wm @ways-map\n       idx (:idx wm)\n       ws (:ways wm)\n       way (nth ws idx)\n       nxt (inc idx)\n       crd (Coordinate. (first way) (second way))\n       way (into-array Double/TYPE way)\n       rnd (LineFollower/randomisedRoute way sx sy normal-distro)]\n  (vswap! ways-map assoc :idx (if (< nxt (count ws)) nxt 0))\n  [(Arriver. loc crd rate bound bypass)\n   way])")
	(title "spawn-places-arriver [ways-map loc rate sx sy bound bypass]"))

([Hiitolanjoki_Class190002] of  CloFunction

	(source "([way world]\n  (let [schedule (.schedule world)\n         astate (create-csalmon-astate way world)\n         loc (:location @astate)\n         a (ChildSalmon. astate)]\n    (.addGeometry child-salmons loc)\n    (vswap! astate assoc :stopper (.scheduleRepeating schedule a)\n                                     :life-start (steps world))\n    (.setUserData loc astate)))\n([way-or-vol world N]\n  (dotimes [i N]\n    (if (volatile? way-or-vol)\n      (let [wm @way-or-vol\n             idx (:idx wm)\n             ws (:ways wm)\n             way (nth ws idx)\n             nxt (inc idx)]\n        (vswap! way-or-vol assoc :idx (if (< nxt (count ws)) nxt 0)) \n        (spawn way world))\n      (spawn way-or-vol world))))")
	(title "spawn"))

([Hiitolanjoki_Class20] of  MPolygon

	(pointer 7)
	(poly [Hiitolanjoki_Class21])
	(title "Hiitolanjoki Vesi371 69"))

([Hiitolanjoki_Class20000] of  MASProgram

	(cloFunctions
		[Hiitolanjoki_Class250000]
		[Hiitolanjoki_Class90000]
		[Hiitolanjoki_Class200000]
		[Hiitolanjoki_Class130001]
		[Hiitolanjoki_Class190001]
		[Hiitolanjoki_Class30015]
		[Hiitolanjoki_Class150000]
		[Hiitolanjoki_Class30014]
		[Hiitolanjoki_Class140003]
		[Hiitolanjoki_Class180000]
		[Hiitolanjoki_Class190002]
		[Hiitolanjoki_Class220002]
		[Hiitolanjoki_Class220000]
		[Hiitolanjoki_Class200005])
	(cloNamespace [Hiitolanjoki_Class20001])
	(cloTypes
		[Hiitolanjoki_Class140000]
		[Hiitolanjoki_Class40000]
		[Hiitolanjoki_Class20002]
		[Hiitolanjoki_Class150003]
		[Hiitolanjoki_Class20005]
		[Hiitolanjoki_Class50000])
	(cloVars
		[Hiitolanjoki_Class110000]
		[Hiitolanjoki_Class30007]
		[Hiitolanjoki_Class30000]
		[Hiitolanjoki_Class30001]
		[Hiitolanjoki_Class30004]
		[Hiitolanjoki_Class30005]
		[Hiitolanjoki_Class80001]
		[Hiitolanjoki_Class80000]
		[Hiitolanjoki_Class30002]
		[Hiitolanjoki_Class30003]
		[Hiitolanjoki_Class30011]
		[Hiitolanjoki_Class140006]
		[Hiitolanjoki_Class30012]
		[Hiitolanjoki_Class240005]
		[Hiitolanjoki_Class30018]
		[Hiitolanjoki_Class50003]
		[Hiitolanjoki_Class50004]
		[Hiitolanjoki_Class140007]
		[Hiitolanjoki_Class50005]
		[Hiitolanjoki_Class50006]
		[Hiitolanjoki_Class140005]
		[Hiitolanjoki_Class90002]
		[Hiitolanjoki_Class90003]
		[Hiitolanjoki_Class70000]
		[Hiitolanjoki_Class100001]
		[Hiitolanjoki_Class100000]
		[Hiitolanjoki_Class170010]
		[Hiitolanjoki_Class120000]
		[Hiitolanjoki_Class160000]
		[Hiitolanjoki_Class250001]
		[Hiitolanjoki_Class40002])
	(documentation [Hiitolanjoki_Class50011])
	(title "Hiitolanjoki"))

([Hiitolanjoki_Class200000] of  CloFunction

	(source "(let [{:keys [location stopper]} ast\n       crd (.getCoordinate (.geometry location))\n       x (.x crd)\n       y (.y crd)]\n  (.moveLocationTo phase (Coordinate. 0.0 0.0))\n  (.stop stopper)\n  [x y ast])")
	(title "relay-process [phase ast]"))

([Hiitolanjoki_Class200005] of  CloFunction

	(source "(.getUserData (.get (.getGeometries field) index))")
	(title "agent-state [field index]"))

([Hiitolanjoki_Class20001] of  CloNamespace

	(source "(:import\n  java.net.URL\n  java.awt.Color\n  sim.util.Bag\n  sim.field.geo.GeomVectorField\n  sim.io.geo.ShapeFileImporter\n  sim.io.geo.ShapeFileExporter\n  sim.util.geo.GeomPlanarGraph\n  sim.util.geo.MasonGeometry\n  sim.util.geo.PointMoveTo\n  sim.util.distribution.Normal\n  sim.display.Display2D\n  sim.portrayal.geo.GeomPortrayal\n  sim.portrayal.geo.GeomVectorFieldPortrayal\n  sim.portrayal.simple.OvalPortrayal2D\n  com.vividsolutions.jts.geom.Envelope\n  com.vividsolutions.jts.geom.Coordinate\n  com.vividsolutions.jts.geom.GeometryFactory\n  com.vividsolutions.jts.linearref.LengthIndexedLine\n  ec.util.MersenneTwisterFast\n  ru.igis.sim.util.LineFollower\n  ru.igis.sim.util.NetworkFollower\n  ru.igis.sim.util.AttributesFollower\n  ru.igis.sim.util.RandomWalker\n  ru.igis.sim.util.Arriver\n  ru.igis.sim.util.RandomEdge\n  ru.igis.omtab.OpenMapTab\n  com.bbn.openmap.layer.shape.SpatialIndex)")
	(title "mas.world.hiitolanjoki"))

([Hiitolanjoki_Class20002] of  CloType

	(cloProtocols [Hiitolanjoki_Class60001])
	(fields "astate")
	(title "AdultSalmon"))

([Hiitolanjoki_Class20003] of  CloImplementation

	(cloFunctions [Hiitolanjoki_Class20004])
	(title "sim.engine.Steppable"))

([Hiitolanjoki_Class20004] of  CloFunction

	(source "(let [yst @ystate\n       {:keys [phase lake-follower river-follower]} yst]\n  (condp = phase\n    :RIVER (process river-follower :LAKE ystate world)\n    :LAKE  (process lake-follower :DONE ystate world)\n    :DONE (start-asalmon (relay-process lake-follower yst) world)\n    nil))")
	(title "step [this world]"))

([Hiitolanjoki_Class20005] of  CloType

	(cloProtocols [Hiitolanjoki_Class20006])
	(title "JokiWorld"))

([Hiitolanjoki_Class20006] of  CloImplementation

	(cloFunctions
		[Hiitolanjoki_Class20007]
		[Hiitolanjoki_Class30008]
		[Hiitolanjoki_Class30013])
	(title "ru.igis.sim.IWorld"))

([Hiitolanjoki_Class20007] of  CloFunction

	(source "(load \"mas/world/hiitolanjoki\")\n(let [MBR (.getMBR rivers)\n       [rsh rdb] RIVERS-URLS\n       [lsh ldb] LAKES-URLS]\n  (println \"reading rivers layer\") \n  (ShapeFileImporter/read (URL. rsh) (URL. rdb) rivers)\n  (println \"reading lakes layer\") \n  (ShapeFileImporter/read (URL. lsh) (URL. ldb) lakes)\n  (.expandToInclude MBR (.getMBR lakes))\n  (println \"Done reading data\")\n  (.setMBR rivers MBR) \n  (.setMBR lakes MBR))")
	(title "initialise [this]"))

([Hiitolanjoki_Class21] of  OMTPoly

	(label "Asilanjoki")
	(latitude "61 10.83")
	(line [MapInspector_Class20024])
	(lineColor "FFFF0000")
	(longitude "29 48.21")
	(playground-index 0)
	(points
		"61 10.83 29 48.21"
		"61 10.8 29 48.25"
		"61 10.77 29 48.29"
		"61 10.75 29 48.33"
		"61 10.73 29 48.36"
		"61 10.73 29 48.4"
		"61 10.74 29 48.43"
		"61 10.75 29 48.47"
		"61 10.79 29 48.53"
		"61 10.8 29 48.55"
		"61 10.81 29 48.63"
		"61 10.81 29 48.68"
		"61 10.82 29 48.73"
		"61 10.82 29 48.8"
		"61 10.83 29 48.94"
		"61 10.84 29 49.05"
		"61 10.84 29 49.11"
		"61 10.85 29 49.19"
		"61 10.84 29 49.31"
		"61 10.82 29 49.43"
		"61 10.81 29 49.51"
		"61 10.82 29 49.58"
		"61 10.81 29 49.67"
		"61 10.79 29 49.82"
		"61 10.79 29 49.93"
		"61 10.78 29 49.99"
		"61 10.76 29 50.14"
		"61 10.77 29 50.24"
		"61 10.78 29 50.34"
		"61 10.82 29 50.49"
		"61 10.87 29 50.64"
		"61 10.87 29 50.72"
		"61 10.9 29 50.85"
		"61 10.9 29 50.99"
		"61 10.9 29 51.08"
		"61 10.9 29 51.19"
		"61 10.91 29 51.33"
		"61 10.92 29 51.42"
		"61 10.93 29 51.49"
		"61 10.93 29 51.53"
		"61 10.92 29 51.54"
		"61 10.92 29 51.54"
		"61 10.9 29 51.56"
		"61 10.9 29 51.57"
		"61 10.88 29 51.6"
		"61 10.88 29 51.61"
		"61 10.88 29 51.61"
		"61 10.89 29 51.63"
		"61 10.93 29 51.72"
		"61 10.93 29 51.74"
		"61 10.94 29 51.76"
		"61 10.94 29 51.79"
		"61 10.94 29 51.81"
		"61 10.93 29 51.83"
		"61 10.92 29 51.84"
		"61 10.92 29 51.86"
		"61 10.91 29 51.88"
		"61 10.91 29 51.92"
		"61 10.91 29 51.96"
		"61 10.91 29 52.04"
		"61 10.87 29 52.28"
		"61 10.83 29 52.46"
		"61 10.8 29 52.62"
		"61 10.78 29 52.68"
		"61 10.77 29 52.75"
		"61 10.79 29 52.83"
		"61 10.81 29 52.88"
		"61 10.83 29 52.97"
		"61 10.82 29 53.02")
	(relative FALSE))

([Hiitolanjoki_Class210000] of  ShapeLayer

	(class "com.bbn.openmap.layer.shape.ShapeLayer")
	(fillColor "FF00C800")
	(label "young-salmons")
	(lineColor "FF00C800")
	(pointOval "true")
	(pointRadius "3")
	(prettyName "Young_Salmons")
	(shapeFile "data/mas/hiitolanjoki/shape/Young_salmons.shp")
	(spatialIndex "data/mas/hiitolanjoki/shape/Child_salmons.shx"))

([Hiitolanjoki_Class220000] of  CloFunction

	(source "(let [mb (OpenMapTab/getMapBean)\n       cms (.getComponents mb)]\n  (doseq [lay lays]\n    (let [shp (str path lay \".shp\")\n           lr (first (filter #(= (.getName %) lay) cms))]\n      (when (and lr (.exists (clojure.java.io/file shp)))\n        (.setSpatialIndex lr (SpatialIndex/locateAndSetShapeData shp))\n        (.doPrepare lr)))))")
	(title "update-shape [path lays]"))

([Hiitolanjoki_Class220001] of  ShapeLayer

	(class "com.bbn.openmap.layer.shape.ShapeLayer")
	(fillColor "FF654321")
	(label "adult-salmons")
	(lineColor "FF654321")
	(pointOval "true")
	(pointRadius "3")
	(prettyName "Adult_Salmons")
	(shapeFile "data/mas/hiitolanjoki/shape/Adult_salmons.shp")
	(spatialIndex "data/mas/hiitolanjoki/shape/Child_salmons.shx"))

([Hiitolanjoki_Class220002] of  CloFunction

	(source "(doseq [[lay ags] (:layers AGENT-LAYERS)]\n  (let [fin (str (:path AGENT-LAYERS) lay)\n         shp (clojure.java.io/file (str fin \".shp\"))]\n    (if (> (.size (.getGeometries ags)) 0)\n      (ShapeFileExporter/write fin ags)\n      (if (.exists shp)\n        (clojure.java.io/delete-file shp)))))")
	(title "snapshot []"))

([Hiitolanjoki_Class230000] of  InternalDoc

	(source "<html>\n  <head>\n    <style type=\"text/css\">\n      <!--\n        body { font-family: arial; font-size: 12pt }\n        p { font-family: arial; margin-top: 2; margin-right: 2; margin-bottom: 2; margin-left: 2 }\n      -->\n    </style>\n    \n  </head>\n  <body>\n    <b>Salmon Life Model<br><br></b>This multiagent model simulates the life of Ladoga salmon after dismantling dams that impede its migration to spawning sites.<br><b><br>Agents</b><br><br>Agents in this projects are Ladoga lake salmons on the differen phases of their life.<br><b><br></b><img src=\"file:data/mas/hiitolanjoki/ChildSalmons.png\">Orange points represent some number of child salmons.<br><img src=\"file:data/mas/hiitolanjoki/YoungSalmons.png\">Green points represent some number of young salmons.<br><img src=\"file:data/mas/hiitolanjoki/AdultSalmons.png\">Brown points represent some number of adult salmons.<br><br>It takes 2-3 years for the Ladoga child salmon fry to get to the river, after which they migrate to feed in Ladoga.<br>After the lake phase (1-5 years), mature salmon rise up the river for spawning.<br><br>In this model, each group of adult individuals reaching one of the spawning sites produces a certain number of fry and dies. Fry are born from caviar and begin movement to the river source.<br><br><b>Custamizable options:</b><br><br>Initial number of spawn <a href=\"internalLink\">@'Hiitolanjoki_Class30007'</a>&#160; (12)<br>Repeatable number of spawn <a href=\"internalLink\">@'Hiitolanjoki_Class120000'</a>&#160; (8)<br>Lifetime of salmon in steps <a href=\"internalLink\">@'Hiitolanjoki_Class250001'</a>&#160; (12000)<br>Propagation rate of child salmon <a href=\"internalLink\">@'Hiitolanjoki_Class140005'</a>&#160; (0.0001)<br>Propagation rate of young salmon <a href=\"internalLink\">@'Hiitolanjoki_Class90002'</a>&#160; (0.0002)<br>Propagation rate of adult salmon <a href=\"internalLink\">@'Hiitolanjoki_Class90003'</a>&#160; (0.0003)<br>Migration routes in Kivijarvi lake <a href=\"internalLink\">@'Hiitolanjoki_Class260000'</a>&#160;,..<br>Migration routes in Ladoga lake <a href=\"internalLink\">@'Hiitolanjoki_Class170002'</a>&#160;,..<br><br><b>References:</b><br><br><a http-equiv=\"content-type\" content=\"text/html; charset=utf-8\" href=\"https://hiitolanjoki.fi/\">https://hiitolanjoki.fi/</a>&#0;<br><br><img src=\"file:data/mas/hiitolanjoki/LadogaSalmon.png\"></body>\n</html>")
	(title "Salmon Life Model"))

([Hiitolanjoki_Class240000] of  ImageDoc

	(source "file:data/mas/hiitolanjoki/HiitolanjokiProjectFin.png")
	(title "Hiitolanjoki Hanke"))

([Hiitolanjoki_Class240001] of  ImageDoc

	(source "file:data/mas/hiitolanjoki/HiitolanjokiProjectEng.png")
	(title "Hiitolanjoki Project"))

([Hiitolanjoki_Class240002] of  ImageDoc

	(source "file:data/mas/hiitolanjoki/HiitolanjokiProjectRus.png")
	(title "Проект Хиитоланёки"))

([Hiitolanjoki_Class240005] of  CloVar

	(source "{:update-interval 50\n  :path  \"data/mas/hiitolanjoki/shape/agents/\"\n  :layers [[\"Child_Salmons\" child-salmons]\n              [\"Young_Salmons\" young-salmons]\n              [\"Adult_Salmons\" adult-salmons]]}")
	(title "AGENT-LAYERS"))

([Hiitolanjoki_Class250000] of  CloFunction

	(source "(.getSteps (.schedule world))")
	(title "steps [world]"))

([Hiitolanjoki_Class250001] of  CloVar

	(source "12000")
	(title "ADULT-LIFE"))

([Hiitolanjoki_Class260000] of  Route

	(but-route "Create Route/utils.poly/create-route")
	(poly [Hiitolanjoki_Class170021]))

([Hiitolanjoki_Class260001] of  Route

	(but-route "Create Route/utils.poly/create-route")
	(poly [Hiitolanjoki_Class170023]))

([Hiitolanjoki_Class260002] of  Route

	(but-route "Create Route/utils.poly/create-route")
	(poly [Hiitolanjoki_Class170022]))

([Hiitolanjoki_Class3] of  OMTPoly

	(label "Hiitolanjoki")
	(latitude "61 26.65")
	(line [MapInspector_Class20024])
	(lineColor "FFFF0000")
	(longitude "29 20.81")
	(playground-index 0)
	(points
		"61 26.65 29 20.81"
		"61 26.64 29 20.77"
		"61 26.63 29 20.74"
		"61 26.62 29 20.71"
		"61 26.61 29 20.67"
		"61 26.6 29 20.62"
		"61 26.59 29 20.59"
		"61 26.58 29 20.55"
		"61 26.57 29 20.52"
		"61 26.56 29 20.5"
		"61 26.55 29 20.44"
		"61 26.53 29 20.36"
		"61 26.5 29 20.32"
		"61 26.46 29 20.31"
		"61 26.42 29 20.3"
		"61 26.38 29 20.31"
		"61 26.31 29 20.41"
		"61 26.26 29 20.44"
		"61 26.24 29 20.47"
		"61 26.19 29 20.54"
		"61 26.18 29 20.55"
		"61 26.14 29 20.58"
		"61 26.13 29 20.59"
		"61 26.08 29 20.58"
		"61 26.08 29 20.57"
		"61 26.06 29 20.53"
		"61 26.05 29 20.5"
		"61 26.02 29 20.45"
		"61 26 29 20.4"
		"61 25.97 29 20.37"
		"61 25.96 29 20.36"
		"61 25.94 29 20.34"
		"61 25.91 29 20.33"
		"61 25.87 29 20.32"
		"61 25.8 29 20.32"
		"61 25.73 29 20.28"
		"61 25.71 29 20.28"
		"61 25.69 29 20.27"
		"61 25.67 29 20.28"
		"61 25.65 29 20.32"
		"61 25.63 29 20.37"
		"61 25.63 29 20.39"
		"61 25.63 29 20.44"
		"61 25.63 29 20.46"
		"61 25.62 29 20.5"
		"61 25.62 29 20.52"
		"61 25.61 29 20.55"
		"61 25.59 29 20.58"
		"61 25.58 29 20.6"
		"61 25.57 29 20.66"
		"61 25.56 29 20.72"
		"61 25.56 29 20.78"
		"61 25.54 29 20.94"
		"61 25.53 29 21.01"
		"61 25.52 29 21.05"
		"61 25.51 29 21.08"
		"61 25.48 29 21.08"
		"61 25.45 29 21.1"
		"61 25.4 29 21.21"
		"61 25.39 29 21.24"
		"61 25.37 29 21.27"
		"61 25.38 29 21.31"
		"61 25.38 29 21.33"
		"61 25.38 29 21.35"
		"61 25.37 29 21.41"
		"61 25.36 29 21.42"
		"61 25.34 29 21.44"
		"61 25.33 29 21.46"
		"61 25.32 29 21.48"
		"61 25.32 29 21.49"
		"61 25.31 29 21.5"
		"61 25.3 29 21.5"
		"61 25.29 29 21.51"
		"61 25.29 29 21.52"
		"61 25.29 29 21.54"
		"61 25.29 29 21.56"
		"61 25.28 29 21.58"
		"61 25.27 29 21.59"
		"61 25.23 29 21.68"
		"61 25.22 29 21.7"
		"61 25.19 29 21.72"
		"61 25.17 29 21.7"
		"61 25.16 29 21.67"
		"61 25.15 29 21.65"
		"61 25.15 29 21.64"
		"61 25.14 29 21.66"
		"61 25.12 29 21.65"
		"61 25.1 29 21.63"
		"61 25.1 29 21.62"
		"61 25.09 29 21.6"
		"61 25.08 29 21.59"
		"61 25.07 29 21.6"
		"61 25.06 29 21.62"
		"61 25.06 29 21.63"
		"61 25.05 29 21.63"
		"61 25.04 29 21.63"
		"61 25.02 29 21.62"
		"61 24.97 29 21.57"
		"61 24.94 29 21.58"
		"61 24.93 29 21.63"
		"61 24.9 29 21.65"
		"61 24.86 29 21.66"
		"61 24.81 29 21.72"
		"61 24.74 29 21.75"
		"61 24.69 29 21.68"
		"61 24.65 29 21.64"
		"61 24.63 29 21.64"
		"61 24.6 29 21.67"
		"61 24.59 29 21.68"
		"61 24.58 29 21.72"
		"61 24.55 29 21.76"
		"61 24.55 29 21.78"
		"61 24.54 29 21.84"
		"61 24.51 29 22"
		"61 24.49 29 22.1"
		"61 24.47 29 22.24"
		"61 24.45 29 22.43"
		"61 24.43 29 22.47"
		"61 24.41 29 22.52"
		"61 24.39 29 22.58"
		"61 24.39 29 22.65"
		"61 24.39 29 22.67"
		"61 24.4 29 22.67"
		"61 24.42 29 22.65"
		"61 24.47 29 22.57"
		"61 24.49 29 22.56"
		"61 24.51 29 22.57"
		"61 24.51 29 22.61"
		"61 24.51 29 22.66"
		"61 24.5 29 22.71"
		"61 24.5 29 22.74"
		"61 24.51 29 22.77"
		"61 24.53 29 22.79"
		"61 24.55 29 22.83"
		"61 24.56 29 22.87"
		"61 24.55 29 22.96"
		"61 24.55 29 23.04"
		"61 24.57 29 23.08"
		"61 24.59 29 23.11"
		"61 24.6 29 23.16"
		"61 24.6 29 23.22"
		"61 24.6 29 23.26"
		"61 24.61 29 23.3"
		"61 24.62 29 23.32"
		"61 24.65 29 23.33"
		"61 24.66 29 23.34"
		"61 24.66 29 23.36"
		"61 24.65 29 23.4"
		"61 24.63 29 23.43"
		"61 24.63 29 23.46"
		"61 24.64 29 23.47"
		"61 24.65 29 23.47"
		"61 24.66 29 23.47"
		"61 24.68 29 23.47"
		"61 24.68 29 23.48"
		"61 24.7 29 23.52"
		"61 24.74 29 23.62"
		"61 24.76 29 23.67"
		"61 24.76 29 23.69"
		"61 24.75 29 23.72"
		"61 24.71 29 23.73"
		"61 24.68 29 23.78"
		"61 24.68 29 23.82"
		"61 24.7 29 23.84"
		"61 24.72 29 23.85"
		"61 24.73 29 23.86"
		"61 24.76 29 23.9"
		"61 24.76 29 23.92"
		"61 24.74 29 23.95"
		"61 24.72 29 24.01"
		"61 24.71 29 24.07"
		"61 24.71 29 24.16"
		"61 24.71 29 24.16"
		"61 24.7 29 24.2"
		"61 24.7 29 24.23"
		"61 24.7 29 24.24"
		"61 24.7 29 24.27"
		"61 24.69 29 24.29"
		"61 24.66 29 24.3"
		"61 24.65 29 24.28"
		"61 24.64 29 24.27"
		"61 24.63 29 24.27"
		"61 24.6 29 24.3"
		"61 24.59 29 24.33"
		"61 24.58 29 24.38"
		"61 24.57 29 24.46"
		"61 24.57 29 24.52"
		"61 24.56 29 24.57"
		"61 24.55 29 24.58"
		"61 24.53 29 24.58"
		"61 24.51 29 24.56"
		"61 24.48 29 24.55"
		"61 24.46 29 24.56"
		"61 24.45 29 24.59"
		"61 24.43 29 24.63"
		"61 24.42 29 24.68"
		"61 24.39 29 24.7"
		"61 24.36 29 24.73"
		"61 24.35 29 24.77"
		"61 24.33 29 24.8"
		"61 24.31 29 24.83")
	(relative FALSE))

([Hiitolanjoki_Class30000] of  CloVar

	(source "800")
	(title "WIDTH"))

([Hiitolanjoki_Class30001] of  CloVar

	(source "800")
	(title "HEIGHT"))

([Hiitolanjoki_Class30002] of  CloVar

	(source "(GeomVectorField. WIDTH HEIGHT)")
	(title "rivers"))

([Hiitolanjoki_Class30003] of  CloVar

	(source "(GeomVectorField. WIDTH HEIGHT)")
	(title "lakes"))

([Hiitolanjoki_Class30004] of  CloVar

	(source "[\"file:data/mas/hiitolanjoki/shape/hiitolanjoki_l.shp\"\n \"file:data/mas/hiitolanjoki/shape/hiitolanjoki_l.dbf\"]")
	(title "RIVERS-URLS"))

([Hiitolanjoki_Class30005] of  CloVar

	(source "[\"file:data/mas/hiitolanjoki/shape/hiitolanjoki_a.shp\"\n \"file:data/mas/hiitolanjoki/shape/hiitolanjoki_a.dbf\"]")
	(title "LAKES-URLS"))

([Hiitolanjoki_Class30007] of  CloVar

	(source "12")
	(title "INIT-NUM-SPAWN"))

([Hiitolanjoki_Class30008] of  CloFunction

	(source "(.clear child-salmons)\n(.clear young-salmons)\n(.clear adult-salmons)\n(spawn KIVIJARVI-WAYS world INIT-NUM-SPAWN)\n(.setMBR child-salmons (.getMBR rivers))\n(.setMBR young-salmons (.getMBR rivers))\n(.setMBR adult-salmons (.getMBR rivers))\n(.scheduleRepeating (.schedule world)\n  (.scheduleSpatialIndexUpdater child-salmons)\n  Integer/MAX_VALUE \n  1.0)\n(.scheduleRepeating (.schedule world)\n  (.scheduleSpatialIndexUpdater young-salmons)\n  Integer/MAX_VALUE \n  1.0)\n(.scheduleRepeating (.schedule world)\n  (.scheduleSpatialIndexUpdater adult-salmons)\n  Integer/MAX_VALUE \n  1.0)\n(.scheduleRepeating (.schedule world) (Shooter.))")
	(title "start [this world]"))

([Hiitolanjoki_Class30011] of  CloVar

	(source "(GeomVectorField. WIDTH HEIGHT)")
	(title "young-salmons"))

([Hiitolanjoki_Class30012] of  CloVar

	(source "(GeomVectorField. WIDTH HEIGHT)")
	(title "adult-salmons"))

([Hiitolanjoki_Class30013] of  CloFunction

	(source "(snapshot)")
	(title "finish [this world]"))

([Hiitolanjoki_Class30014] of  CloFunction

	(source "(let [inp (.createPoint factory crd)\n       loc (MasonGeometry. inp)\n       rate (.nextDouble normal-distro ADULT-RATE (/ ADULT-RATE 4))\n       lf (RandomWalker. loc rate 100 800 normal-distro lakes)\n       bp (RandomWalker. loc rate 0.0 50.0 5.0 600 normal-distro lakes)\n       af (Arriver. loc ESTUARY rate lakes bp)\n       rf (AttributesFollower. \n            rivers \n            (into-array String (map first ASALMON_RIVER_ROUTE))\n            (into-array Object (map second ASALMON_RIVER_ROUTE))\n            loc \n            rate)\n       bp2 (RandomWalker. loc rate 0.0 10.0 4.0 100 normal-distro lakes)\n       [spa cw] (spawn-places-arriver KIVIJARVI-WAYS loc rate 0.002 0.0001 lakes bp2)]\n  (volatile! {:location loc\n                  :phase :LAKE\n                  :lake-follower lf\n                  :river-arriver af\n                  :river-follower rf\n                  :spawn-arriver spa\n                  :children-way cw}))")
	(title "create-asalmon-astate [crd world]"))

([Hiitolanjoki_Class30015] of  CloFunction

	(source "(let [crd (Coordinate.  (first way) (second way))\n       inp (.createPoint factory crd)\n       loc (MasonGeometry. inp)\n       rate (.nextDouble normal-distro CHILD-RATE (/ CHILD-RATE 4))\n       way (into-array Double/TYPE way)\n       rnd (LineFollower/randomisedRoute way 0.002 0.0001 normal-distro)\n       lf (LineFollower. rnd factory loc rate)]\n  (volatile! {:location loc\n                  :phase :LAKE\n                  :lake-follower lf}))")
	(title "create-csalmon-astate [way world]"))

([Hiitolanjoki_Class30018] of  CloVar

	(source "(GeometryFactory.)")
	(title "factory"))

([Hiitolanjoki_Class40000] of  CloType

	(cloProtocols [Hiitolanjoki_Class20003])
	(fields "ystate")
	(title "YoungSalmon"))

([Hiitolanjoki_Class40002] of  CloVar

	(source "(declare\n  process\n  relay-process\n  create-asalmon-astate\n  create-csalmon-astate\n  start-ysalmon\n  start-asalmon\n  spawn\n  snapshot\n  update-shape\n  steps)")
	(title "declare-before"))

([Hiitolanjoki_Class50000] of  CloType

	(cloProtocols [Hiitolanjoki_Class50001])
	(title "JokiPorts"))

([Hiitolanjoki_Class50001] of  CloImplementation

	(cloFunctions
		[Hiitolanjoki_Class50002]
		[Hiitolanjoki_Class50007]
		[Hiitolanjoki_Class50008])
	(title "ru.igis.sim.IPorts"))

([Hiitolanjoki_Class50002] of  CloFunction

	(source "(let [display (Display2D. WIDTH HEIGHT wgui)]\n  (.attach display rivers-port \"Rivers\" true)\n  (.attach display lakes-port \"Lakes\" true)\n  (.attach display csalmons-port \"CSalmons\" true)\n  (.attach display ysalmons-port \"YSalmons\" true)\n  (.attach display asalmons-port \"ASalmons\" true)\n  display)")
	(title "createDisplay [this wgui world]"))

([Hiitolanjoki_Class50003] of  CloVar

	(source "(GeomVectorFieldPortrayal.)")
	(title "rivers-port"))

([Hiitolanjoki_Class50004] of  CloVar

	(source "(GeomVectorFieldPortrayal.)")
	(title "lakes-port"))

([Hiitolanjoki_Class50005] of  CloVar

	(source "(GeomVectorFieldPortrayal.)")
	(title "asalmons-port"))

([Hiitolanjoki_Class50006] of  CloVar

	(source "(GeomVectorFieldPortrayal.)")
	(title "ysalmons-port"))

([Hiitolanjoki_Class50007] of  CloFunction

	(source "(.setField rivers-port rivers)\n(.setPortrayalForAll rivers-port (GeomPortrayal. Color/BLUE true))\n(.setField lakes-port lakes)\n(.setPortrayalForAll lakes-port (GeomPortrayal. Color/LIGHT_GRAY))\n(.setField csalmons-port child-salmons)\n(.setPortrayalForAll csalmons-port (OvalPortrayal2D. (Color. 255 100 0) 0.2))\n(.setField ysalmons-port young-salmons)\n(.setPortrayalForAll ysalmons-port (OvalPortrayal2D. (Color. 0 200 0) 0.3))\n(.setField asalmons-port adult-salmons)\n(.setPortrayalForAll asalmons-port (OvalPortrayal2D. (Color. 101 67 33) 0.4))\n(.setScale display 32.0)\n(.setScrollPosition display 0.0 0.18)")
	(title "setup [this display world]"))

([Hiitolanjoki_Class50008] of  CloFunction

	(source "\"Hiitolanjoki's Salmon\"")
	(title "info [this]"))

([Hiitolanjoki_Class50011] of  CloDocumentation

	(source "<html>\n  <head>\n    <style type=\"text/css\">\n      <!--\n        body { font-family: arial; font-size: 12pt }\n        p { font-family: arial; margin-top: 2; margin-right: 2; margin-bottom: 2; margin-left: 2 }\n      -->\n    </style>\n    \n  </head>\n  <body>\n    <b>Agents</b><br><br>AdultSalmon.step <a href=\"internalLink\">@'Hiitolanjoki_Class60002'</a>&#160;<br>YoungSalmon.step <a href=\"internalLink\">@'Hiitolanjoki_Class20004'</a>&#160;<br>ChildSalmon.step <a href=\"internalLink\">@'Hiitolanjoki_Class140002'</a>&#160;<br>Shooter.step <a href=\"internalLink\">@'Hiitolanjoki_Class150005'</a>&#160;<br><br><b>JokiWorld</b><br><br>initialise <a href=\"internalLink\">@'Hiitolanjoki_Class20007'</a>&#160;<br>start <a href=\"internalLink\">@'Hiitolanjoki_Class30008'</a>&#160;<br>finish <a href=\"internalLink\">@'Hiitolanjoki_Class30013'</a>&#160;<br><br><b>JokiPorts</b><br><br>createDisplay <a href=\"internalLink\">@'Hiitolanjoki_Class50002'</a>&#160;<br>setup <a href=\"internalLink\">@'Hiitolanjoki_Class50007'</a>&#160;<br>info <a href=\"internalLink\">@'Hiitolanjoki_Class50008'</a>&#160;<br><br></body>\n</html>")
	(title "Hiitolanjoki Implementation"))

([Hiitolanjoki_Class60000] of  ShareOnto

	(but-deep-copy "Deep Copy Instance/share.onto/deep-copy")
	(but-del-fil "Delete Filtered Instances/share.onto/delfil")
	(but-del-unref "Delete Unreferenced/share.onto/delete-unref")
	(but-find-unref "Find Unreferenced/share.onto/find-unref")
	(but-load-prj "Load Source Project/share.onto/load-src-prj")
	(but-shal-copy "Shallow Copy Instances/share.onto/shal-copy")
	(source-project "DefaultKnowledgeBase(Mason)"))

([Hiitolanjoki_Class60001] of  CloImplementation

	(cloFunctions [Hiitolanjoki_Class60002])
	(title "sim.engine.Steppable"))

([Hiitolanjoki_Class60002] of  CloFunction

	(source "(let [ast @astate\n       {:keys [phase \n                   life-start\n                   lake-follower \n                   river-arriver \n                   river-follower \n                   spawn-arriver]} ast]\n  (if (> (- (steps world) life-start) ADULT-LIFE)\n    (relay-process lake-follower ast)\n    (condp = phase\n      :LAKE        (process lake-follower :TORIVER astate world)\n      :TORIVER   (process river-arriver :RIVER astate world)\n      :RIVER       (process river-follower :TOSPAWN astate world)\n      :TOSPAWN (process spawn-arriver :DONE astate world)\n      :DONE       (do (relay-process spawn-arriver ast)\n                         (spawn (:children-way ast) world NUM-SPAWN))\n      nil)))")
	(title "step [this world]"))

([Hiitolanjoki_Class7] of  OMTPoly

	(label "Kokkolanjoki1")
	(latitude "61 24.31")
	(line [MapInspector_Class20024])
	(lineColor "FFFF0000")
	(longitude "29 24.83")
	(playground-index 0)
	(points
		"61 24.31 29 24.83"
		"61 24.3 29 24.84"
		"61 24.28 29 24.88"
		"61 24.27 29 24.91"
		"61 24.26 29 24.93"
		"61 24.22 29 24.96"
		"61 24.21 29 24.97"
		"61 24.19 29 24.98"
		"61 24.17 29 24.98"
		"61 24.16 29 24.98"
		"61 24.14 29 25"
		"61 24.13 29 25.02"
		"61 24.11 29 25.13"
		"61 24.09 29 25.18"
		"61 24.07 29 25.25"
		"61 24.04 29 25.31"
		"61 24.01 29 25.33"
		"61 23.97 29 25.43"
		"61 23.94 29 25.48"
		"61 23.91 29 25.51"
		"61 23.88 29 25.53"
		"61 23.85 29 25.53"
		"61 23.83 29 25.53"
		"61 23.82 29 25.54"
		"61 23.82 29 25.59"
		"61 23.81 29 25.63"
		"61 23.79 29 25.66"
		"61 23.72 29 25.77"
		"61 23.7 29 25.86"
		"61 23.63 29 26"
		"61 23.61 29 26.01"
		"61 23.54 29 25.98"
		"61 23.5 29 25.99"
		"61 23.47 29 26.02"
		"61 23.38 29 26.04"
		"61 23.37 29 26.06"
		"61 23.36 29 26.1"
		"61 23.36 29 26.15"
		"61 23.37 29 26.21"
		"61 23.38 29 26.25"
		"61 23.36 29 26.3"
		"61 23.35 29 26.3"
		"61 23.3 29 26.26"
		"61 23.3 29 26.27"
		"61 23.3 29 26.3"
		"61 23.31 29 26.32"
		"61 23.33 29 26.34"
		"61 23.35 29 26.37"
		"61 23.36 29 26.41"
		"61 23.35 29 26.44"
		"61 23.34 29 26.45"
		"61 23.33 29 26.47"
		"61 23.31 29 26.46"
		"61 23.29 29 26.46"
		"61 23.29 29 26.48"
		"61 23.29 29 26.5"
		"61 23.31 29 26.55"
		"61 23.32 29 26.59"
		"61 23.31 29 26.71"
		"61 23.29 29 26.83"
		"61 23.3 29 26.91"
		"61 23.31 29 26.95"
		"61 23.33 29 26.95"
		"61 23.34 29 26.9"
		"61 23.35 29 26.84"
		"61 23.37 29 26.83"
		"61 23.39 29 26.85"
		"61 23.4 29 26.87"
		"61 23.43 29 26.93"
		"61 23.5 29 26.98"
		"61 23.52 29 26.99"
		"61 23.55 29 26.96"
		"61 23.57 29 26.93"
		"61 23.56 29 26.9"
		"61 23.55 29 26.88"
		"61 23.48 29 26.86"
		"61 23.47 29 26.85"
		"61 23.47 29 26.81"
		"61 23.51 29 26.82"
		"61 23.53 29 26.8"
		"61 23.54 29 26.77"
		"61 23.56 29 26.74"
		"61 23.57 29 26.71"
		"61 23.59 29 26.71"
		"61 23.62 29 26.71"
		"61 23.67 29 26.74"
		"61 23.69 29 26.74"
		"61 23.71 29 26.8"
		"61 23.72 29 26.79"
		"61 23.74 29 26.76"
		"61 23.75 29 26.78"
		"61 23.76 29 26.83"
		"61 23.77 29 26.86"
		"61 23.8 29 26.87"
		"61 23.83 29 26.87"
		"61 23.93 29 27.04"
		"61 23.98 29 27.18"
		"61 24 29 27.22"
		"61 24 29 27.27"
		"61 23.98 29 27.3"
		"61 23.96 29 27.31"
		"61 23.93 29 27.32"
		"61 23.88 29 27.43"
		"61 23.86 29 27.49"
		"61 23.84 29 27.54"
		"61 23.78 29 27.61"
		"61 23.75 29 27.67"
		"61 23.71 29 27.78"
		"61 23.7 29 27.82"
		"61 23.7 29 27.85"
		"61 23.72 29 27.86"
		"61 23.74 29 27.86"
		"61 23.76 29 27.88"
		"61 23.77 29 27.92"
		"61 23.77 29 27.98"
		"61 23.75 29 28.04"
		"61 23.74 29 28.08"
		"61 23.73 29 28.13"
		"61 23.71 29 28.15"
		"61 23.71 29 28.19"
		"61 23.72 29 28.24"
		"61 23.74 29 28.26"
		"61 23.75 29 28.26"
		"61 23.75 29 28.29"
		"61 23.74 29 28.31"
		"61 23.72 29 28.33"
		"61 23.69 29 28.36"
		"61 23.61 29 28.49"
		"61 23.59 29 28.47"
		"61 23.57 29 28.5"
		"61 23.54 29 28.5"
		"61 23.53 29 28.47"
		"61 23.48 29 28.53"
		"61 23.45 29 28.55"
		"61 23.43 29 28.51"
		"61 23.42 29 28.45"
		"61 23.41 29 28.43"
		"61 23.39 29 28.43"
		"61 23.38 29 28.47"
		"61 23.39 29 28.51"
		"61 23.39 29 28.56"
		"61 23.38 29 28.6"
		"61 23.37 29 28.61"
		"61 23.35 29 28.63"
		"61 23.33 29 28.58"
		"61 23.32 29 28.5"
		"61 23.32 29 28.48"
		"61 23.31 29 28.49"
		"61 23.3 29 28.52"
		"61 23.29 29 28.57"
		"61 23.3 29 28.62"
		"61 23.28 29 28.66"
		"61 23.26 29 28.65"
		"61 23.25 29 28.62"
		"61 23.24 29 28.57"
		"61 23.23 29 28.54"
		"61 23.21 29 28.53"
		"61 23.2 29 28.55"
		"61 23.2 29 28.59"
		"61 23.21 29 28.65"
		"61 23.2 29 28.67"
		"61 23.19 29 28.67"
		"61 23.18 29 28.66"
		"61 23.17 29 28.57"
		"61 23.15 29 28.54"
		"61 23.13 29 28.57"
		"61 23.13 29 28.65"
		"61 23.12 29 28.72"
		"61 23.1 29 28.76"
		"61 23.07 29 28.78"
		"61 23.06 29 28.83"
		"61 23.06 29 28.87"
		"61 23.07 29 28.92"
		"61 23.06 29 28.95"
		"61 23.04 29 28.92"
		"61 23.02 29 28.88"
		"61 23 29 28.89"
		"61 22.97 29 28.92"
		"61 22.95 29 28.9"
		"61 22.93 29 28.94"
		"61 22.93 29 28.99"
		"61 22.91 29 29.02"
		"61 22.92 29 29.05"
		"61 22.94 29 29.07"
		"61 22.95 29 29.11"
		"61 22.94 29 29.13"
		"61 22.92 29 29.12"
		"61 22.89 29 29.11"
		"61 22.88 29 29.15"
		"61 22.88 29 29.3"
		"61 22.87 29 29.35"
		"61 22.83 29 29.4"
		"61 22.79 29 29.5"
		"61 22.77 29 29.52"
		"61 22.74 29 29.53"
		"61 22.72 29 29.56"
		"61 22.69 29 29.61"
		"61 22.67 29 29.63"
		"61 22.64 29 29.63"
		"61 22.58 29 29.57"
		"61 22.52 29 29.62"
		"61 22.49 29 29.66"
		"61 22.47 29 29.72"
		"61 22.46 29 29.77"
		"61 22.44 29 29.8"
		"61 22.42 29 29.8"
		"61 22.39 29 29.77"
		"61 22.37 29 29.77"
		"61 22.34 29 29.8"
		"61 22.32 29 29.84"
		"61 22.29 29 29.86"
		"61 22.21 29 29.88"
		"61 22.18 29 29.87"
		"61 22.16 29 29.87"
		"61 22.11 29 29.96"
		"61 22.08 29 30.04"
		"61 22.05 29 30.1"
		"61 22.04 29 30.14"
		"61 22.02 29 30.19"
		"61 21.99 29 30.23"
		"61 21.98 29 30.29"
		"61 21.96 29 30.32"
		"61 21.93 29 30.31"
		"61 21.91 29 30.32"
		"61 21.89 29 30.36"
		"61 21.86 29 30.36"
		"61 21.84 29 30.33"
		"61 21.82 29 30.36"
		"61 21.82 29 30.4"
		"61 21.83 29 30.45"
		"61 21.83 29 30.48"
		"61 21.82 29 30.51"
		"61 21.8 29 30.57"
		"61 21.81 29 30.61"
		"61 21.81 29 30.67"
		"61 21.82 29 30.74"
		"61 21.82 29 30.84"
		"61 21.81 29 30.92"
		"61 21.79 29 30.95"
		"61 21.77 29 30.92"
		"61 21.76 29 30.88"
		"61 21.76 29 30.82"
		"61 21.75 29 30.77"
		"61 21.72 29 30.75"
		"61 21.69 29 30.76"
		"61 21.66 29 30.82"
		"61 21.67 29 30.89"
		"61 21.69 29 30.95"
		"61 21.7 29 31.03"
		"61 21.7 29 31.17"
		"61 21.68 29 31.18"
		"61 21.67 29 31.15"
		"61 21.66 29 31.1"
		"61 21.65 29 31.09"
		"61 21.63 29 31.14"
		"61 21.62 29 31.21"
		"61 21.6 29 31.29"
		"61 21.58 29 31.35"
		"61 21.57 29 31.4"
		"61 21.55 29 31.44"
		"61 21.54 29 31.5"
		"61 21.56 29 31.55"
		"61 21.58 29 31.55"
		"61 21.6 29 31.57"
		"61 21.6 29 31.62"
		"61 21.58 29 31.65"
		"61 21.53 29 31.65"
		"61 21.53 29 31.7"
		"61 21.52 29 31.75"
		"61 21.49 29 31.75"
		"61 21.46 29 31.73"
		"61 21.43 29 31.71"
		"61 21.4 29 31.83"
		"61 21.38 29 31.86"
		"61 21.37 29 31.84"
		"61 21.36 29 31.79"
		"61 21.36 29 31.72"
		"61 21.36 29 31.66"
		"61 21.34 29 31.66"
		"61 21.32 29 31.69"
		"61 21.32 29 31.73"
		"61 21.3 29 31.79"
		"61 21.29 29 31.83"
		"61 21.23 29 31.87"
		"61 21.21 29 31.9"
		"61 21.19 29 31.9"
		"61 21.18 29 31.86"
		"61 21.17 29 31.8"
		"61 21.15 29 31.79"
		"61 21.13 29 31.82"
		"61 21.13 29 31.86"
		"61 21.08 29 31.92"
		"61 20.96 29 32.02"
		"61 20.87 29 32.11"
		"61 20.85 29 32.15"
		"61 20.78 29 32.21"
		"61 20.75 29 32.26"
		"61 20.73 29 32.33"
		"61 20.72 29 32.38"
		"61 20.72 29 32.46"
		"61 20.74 29 32.53"
		"61 20.74 29 32.59"
		"61 20.72 29 32.72"
		"61 20.72 29 32.78"
		"61 20.73 29 32.82"
		"61 20.74 29 32.87"
		"61 20.73 29 32.9"
		"61 20.72 29 32.92"
		"61 20.71 29 32.92"
		"61 20.69 29 32.86"
		"61 20.67 29 32.86"
		"61 20.65 29 32.88"
		"61 20.65 29 32.91"
		"61 20.64 29 32.97"
		"61 20.62 29 33"
		"61 20.6 29 33.03"
		"61 20.59 29 33.03"
		"61 20.58 29 33.01"
		"61 20.58 29 32.96"
		"61 20.59 29 32.93"
		"61 20.59 29 32.9"
		"61 20.58 29 32.88"
		"61 20.56 29 32.88"
		"61 20.53 29 32.92"
		"61 20.51 29 33.04"
		"61 20.49 29 33.08"
		"61 20.46 29 33.11"
		"61 20.44 29 33.11"
		"61 20.4 29 33.13"
		"61 20.35 29 33.16"
		"61 20.32 29 33.2"
		"61 20.3 29 33.26"
		"61 20.28 29 33.35"
		"61 20.26 29 33.42"
		"61 20.23 29 33.46"
		"61 20.19 29 33.51"
		"61 20.16 29 33.56"
		"61 20.14 29 33.56"
		"61 20.07 29 33.53"
		"61 20.05 29 33.54"
		"61 20.04 29 33.57"
		"61 20.04 29 33.66"
		"61 20.03 29 33.76"
		"61 20.04 29 33.8"
		"61 20.06 29 33.82"
		"61 20.07 29 33.85"
		"61 20.05 29 33.88"
		"61 20.03 29 33.88"
		"61 19.98 29 33.81"
		"61 19.95 29 33.78"
		"61 19.93 29 33.8"
		"61 19.91 29 33.83"
		"61 19.89 29 33.86"
		"61 19.86 29 33.86"
		"61 19.81 29 33.86"
		"61 19.78 29 33.88"
		"61 19.77 29 33.94"
		"61 19.79 29 34"
		"61 19.82 29 34.07"
		"61 19.86 29 34.12"
		"61 19.89 29 34.12"
		"61 19.91 29 34.09"
		"61 19.92 29 34.04"
		"61 19.95 29 34.02"
		"61 19.97 29 34.02"
		"61 19.98 29 34.05"
		"61 19.97 29 34.1"
		"61 19.95 29 34.15"
		"61 19.92 29 34.18"
		"61 19.86 29 34.2"
		"61 19.83 29 34.22"
		"61 19.81 29 34.22"
		"61 19.79 29 34.23"
		"61 19.79 29 34.27"
		"61 19.79 29 34.31"
		"61 19.81 29 34.36"
		"61 19.82 29 34.38"
		"61 19.84 29 34.37"
		"61 19.85 29 34.34"
		"61 19.87 29 34.34"
		"61 19.91 29 34.37"
		"61 19.94 29 34.4"
		"61 19.96 29 34.43"
		"61 19.96 29 34.45"
		"61 19.96 29 34.49"
		"61 19.96 29 34.5"
		"61 19.94 29 34.51"
		"61 19.9 29 34.54"
		"61 19.84 29 34.56"
		"61 19.84 29 34.58"
		"61 19.83 29 34.58"
		"61 19.82 29 34.56"
		"61 19.83 29 34.53"
		"61 19.82 29 34.52"
		"61 19.81 29 34.53"
		"61 19.8 29 34.59"
		"61 19.81 29 34.68"
		"61 19.83 29 34.74"
		"61 19.82 29 34.77"
		"61 19.81 29 34.79"
		"61 19.8 29 34.79"
		"61 19.79 29 34.77"
		"61 19.77 29 34.69"
		"61 19.75 29 34.63"
		"61 19.73 29 34.61"
		"61 19.72 29 34.6"
		"61 19.7 29 34.61"
		"61 19.67 29 34.66"
		"61 19.65 29 34.72"
		"61 19.59 29 34.8"
		"61 19.55 29 34.88"
		"61 19.53 29 34.95"
		"61 19.51 29 34.97"
		"61 19.49 29 34.96"
		"61 19.47 29 34.92"
		"61 19.45 29 34.92"
		"61 19.44 29 34.96"
		"61 19.43 29 35.11"
		"61 19.44 29 35.14"
		"61 19.43 29 35.18"
		"61 19.42 29 35.2"
		"61 19.39 29 35.2"
		"61 19.36 29 35.17"
		"61 19.34 29 35.1"
		"61 19.32 29 35.07"
		"61 19.3 29 35.07"
		"61 19.28 29 35.1"
		"61 19.27 29 35.15"
		"61 19.25 29 35.19"
		"61 19.23 29 35.21"
		"61 19.16 29 35.22"
		"61 19.14 29 35.26"
		"61 19.15 29 35.3"
		"61 19.17 29 35.31"
		"61 19.2 29 35.32"
		"61 19.22 29 35.31"
		"61 19.25 29 35.31"
		"61 19.27 29 35.33"
		"61 19.28 29 35.38"
		"61 19.25 29 35.47"
		"61 19.23 29 35.47"
		"61 19.21 29 35.44"
		"61 19.19 29 35.43"
		"61 19.16 29 35.43"
		"61 19.14 29 35.44"
		"61 19.12 29 35.48"
		"61 19.1 29 35.55"
		"61 19.1 29 35.64"
		"61 19.09 29 35.72"
		"61 19.06 29 35.76"
		"61 19.03 29 35.77"
		"61 19 29 35.79"
		"61 18.98 29 35.83"
		"61 18.97 29 35.86"
		"61 18.95 29 35.86"
		"61 18.93 29 35.83"
		"61 18.92 29 35.78"
		"61 18.91 29 35.72"
		"61 18.9 29 35.7"
		"61 18.87 29 35.71"
		"61 18.84 29 35.76"
		"61 18.8 29 35.79"
		"61 18.79 29 35.84"
		"61 18.8 29 35.88"
		"61 18.84 29 35.99"
		"61 18.84 29 36.03"
		"61 18.84 29 36.05"
		"61 18.83 29 36.07"
		"61 18.81 29 36.08"
		"61 18.75 29 36.03"
		"61 18.71 29 36.05"
		"61 18.69 29 36.07"
		"61 18.67 29 36.09"
		"61 18.64 29 36.09"
		"61 18.61 29 36.06"
		"61 18.6 29 36.03"
		"61 18.58 29 36.03"
		"61 18.57 29 36.13"
		"61 18.55 29 36.16"
		"61 18.53 29 36.16"
		"61 18.51 29 36.12"
		"61 18.49 29 36.1"
		"61 18.47 29 36.08"
		"61 18.44 29 36.11"
		"61 18.44 29 36.21"
		"61 18.47 29 36.28"
		"61 18.48 29 36.33"
		"61 18.47 29 36.38"
		"61 18.45 29 36.43"
		"61 18.42 29 36.44"
		"61 18.39 29 36.47"
		"61 18.39 29 36.51"
		"61 18.4 29 36.62"
		"61 18.4 29 36.7"
		"61 18.38 29 36.75"
		"61 18.37 29 36.81"
		"61 18.35 29 36.85"
		"61 18.33 29 36.84"
		"61 18.3 29 36.78"
		"61 18.28 29 36.76"
		"61 18.26 29 36.75"
		"61 18.24 29 36.76"
		"61 18.23 29 36.79"
		"61 18.23 29 36.84"
		"61 18.22 29 36.9"
		"61 18.22 29 36.94"
		"61 18.19 29 36.95"
		"61 18.17 29 36.95"
		"61 18.14 29 36.9"
		"61 18.12 29 36.85"
		"61 18.11 29 36.73"
		"61 18.09 29 36.67"
		"61 18.06 29 36.65"
		"61 18.01 29 36.63"
		"61 17.99 29 36.6"
		"61 17.96 29 36.56"
		"61 17.94 29 36.56"
		"61 17.9 29 36.58"
		"61 17.82 29 36.58"
		"61 17.78 29 36.61"
		"61 17.77 29 36.64"
		"61 17.78 29 36.68"
		"61 17.8 29 36.72"
		"61 17.79 29 36.77"
		"61 17.78 29 36.82"
		"61 17.75 29 36.87"
		"61 17.69 29 36.93"
		"61 17.64 29 36.95"
		"61 17.61 29 36.97"
		"61 17.58 29 37.03"
		"61 17.55 29 37.1"
		"61 17.53 29 37.19"
		"61 17.52 29 37.34"
		"61 17.5 29 37.39"
		"61 17.49 29 37.4"
		"61 17.47 29 37.37"
		"61 17.47 29 37.31"
		"61 17.48 29 37.25"
		"61 17.47 29 37.2"
		"61 17.46 29 37.16"
		"61 17.44 29 37.14"
		"61 17.42 29 37.14"
		"61 17.41 29 37.17"
		"61 17.36 29 37.4"
		"61 17.36 29 37.46"
		"61 17.36 29 37.52"
		"61 17.37 29 37.56"
		"61 17.38 29 37.6"
		"61 17.37 29 37.66"
		"61 17.35 29 37.7"
		"61 17.32 29 37.74"
		"61 17.29 29 37.79"
		"61 17.27 29 37.87"
		"61 17.26 29 37.94"
		"61 17.26 29 38.05"
		"61 17.26 29 38.09"
		"61 17.25 29 38.13"
		"61 17.23 29 38.14"
		"61 17.21 29 38.12"
		"61 17.19 29 38.08"
		"61 17.15 29 38.05"
		"61 17.09 29 38.04"
		"61 17.06 29 38.07"
		"61 17.05 29 38.1"
		"61 17.04 29 38.16"
		"61 17.04 29 38.25"
		"61 17.03 29 38.32"
		"61 17 29 38.37"
		"61 16.98 29 38.4"
		"61 16.97 29 38.38"
		"61 16.95 29 38.37"
		"61 16.93 29 38.37"
		"61 16.91 29 38.4"
		"61 16.88 29 38.43"
		"61 16.84 29 38.54"
		"61 16.82 29 38.56"
		"61 16.79 29 38.55"
		"61 16.76 29 38.52"
		"61 16.74 29 38.51"
		"61 16.71 29 38.51"
		"61 16.7 29 38.56"
		"61 16.71 29 38.71"
		"61 16.7 29 38.73"
		"61 16.68 29 38.73"
		"61 16.62 29 38.7"
		"61 16.6 29 38.71"
		"61 16.51 29 38.84"
		"61 16.49 29 38.87"
		"61 16.44 29 38.87"
		"61 16.43 29 38.84"
		"61 16.41 29 38.84"
		"61 16.4 29 38.88"
		"61 16.4 29 38.97"
		"61 16.38 29 39.02"
		"61 16.36 29 39.04"
		"61 16.18 29 39.15"
		"61 16.16 29 39.16"
		"61 16.15 29 39.14"
		"61 16.11 29 39.16"
		"61 16.06 29 39.29"
		"61 16.03 29 39.33"
		"61 16 29 39.36"
		"61 15.97 29 39.39"
		"61 15.93 29 39.5"
		"61 15.9 29 39.55"
		"61 15.88 29 39.61"
		"61 15.87 29 39.67"
		"61 15.88 29 39.78"
		"61 15.88 29 39.81"
		"61 15.88 29 39.84"
		"61 15.87 29 39.89"
		"61 15.85 29 39.91"
		"61 15.82 29 39.93"
		"61 15.79 29 39.91"
		"61 15.71 29 39.9"
		"61 15.69 29 39.92"
		"61 15.68 29 39.93"
		"61 15.64 29 40.05"
		"61 15.62 29 40.09"
		"61 15.59 29 40.14"
		"61 15.57 29 40.16"
		"61 15.56 29 40.2"
		"61 15.53 29 40.39"
		"61 15.53 29 40.49"
		"61 15.51 29 40.53"
		"61 15.49 29 40.54"
		"61 15.46 29 40.54"
		"61 15.45 29 40.52"
		"61 15.4 29 40.44"
		"61 15.38 29 40.45"
		"61 15.33 29 40.52"
		"61 15.31 29 40.54"
		"61 15.28 29 40.57")
	(relative FALSE))

([Hiitolanjoki_Class70000] of  CloVar

	(source "\"data/mas/hiitolanjoki/kivijarvi_ways.clj\"")
	(title "KIVIJARVI-ROUTES-FILE"))

([Hiitolanjoki_Class70001] of  CloFunction

	(source "(let [mp (into {} hm)]\n  (set-onclick (partial make-region (mp \"poly\"))))")
	(title "create-route [hm inst]"))

([Hiitolanjoki_Class70002] of  CloFunction

	(source "(if-let [p (OMT/getMapOb pi)]\n  (OMT/removeMapOb p false))\n(let [pp (svs pi \"points\")]\n  (when (empty? pp)\n    (ssv pi \"latitude\" (dms lat))\n    (ssv pi \"longitude\" (dms lon)))\n  (ssvs pi \"points\"\n    (concat pp [(dms [lat lon])]))\n  (OMT/getOrAdd pi))")
	(title "make-region [pi mo [lat lon]]"))

([Hiitolanjoki_Class70003] of  CloFunction

	(source "(if-let [p (OMT/getMapOb pi)]\n  (OMT/removeMapOb p false))\n(let [hd (/ h 60)\n       mfi (Math/toRadians (- lat (/ hd 2)))\n       wd (/ (/ w 60) (Math/cos mfi))\n       nw [lat lon]\n       ne [lat (+ lon wd)]\n       se [(- lat hd) (+ lon wd)]\n       sw[(- lat hd) lon]]\n  (ssv pi \"latitude\" (dms lat))\n  (ssv pi \"longitude\" (dms lon))\n  (ssvs pi \"points\" [(dms nw)\n                             (dms ne)\n                             (dms se)\n                             (dms sw)])\n  (OMT/getOrAdd pi))")
	(title "move-extend-region [pi w h mo [lat lon]]"))

([Hiitolanjoki_Class70004] of  CloFunction

	(source "(let [mp (into {} hm)\n       w (mp \"width\") \n       h (mp \"height\")\n       p (mp \"poly\")]\n    (set-onclick (partial move-extend-region p w h)))")
	(title "move-region [hm inst]"))

([Hiitolanjoki_Class70005] of  CloFunction

	(source "(let [pg0 (first (OMT/getPlaygrounds))\n       rumma (proxy [RuMapMouseAdapter] []\n                     (mouseLeftButtonClickedOn [mo llp runa]\n                       (fun mo (seq llp))\n                       (.manageGraphics pg0)\n                       true))]\n  (.setRuMapMouseAdapter pg0 rumma))")
	(title "set-onclick [fun]"))

([Hiitolanjoki_Class70006] of  CloProgram

	(cloFunctions
		[Hiitolanjoki_Class70005]
		[Hiitolanjoki_Class70008]
		[Hiitolanjoki_Class180012]
		[Hiitolanjoki_Class70002]
		[Hiitolanjoki_Class70003]
		[Hiitolanjoki_Class70001]
		[Hiitolanjoki_Class70004])
	(cloNamespace [Hiitolanjoki_Class70007])
	(title "Utils Poly"))

([Hiitolanjoki_Class70007] of  CloNamespace

	(source "(:use \n  protege.core)\n(:import\n  ru.igis.omtab.OpenMapTab\n  ru.igis.omtab.OMT\n  ru.igis.omtab.gui.RuMapMouseAdapter\n  ru.igis.omtab.MapOb\n  ru.igis.omtab.NavOb)")
	(title "utils.poly"))

([Hiitolanjoki_Class70008] of  CloFunction

	(source "(cond\n  (number? y) (MapOb/getDegMin y)\n  (number? (first y)) (str (MapOb/getDegMin (first y))\n                                 \" \"\n                                 (MapOb/getDegMin (second y)))\n  true (vec (map dms y)))")
	(title "dms [y]"))

([Hiitolanjoki_Class80000] of  CloVar

	(source "[[\"NAME\" \"Асиланйоки\"]\n [\"NAME\" \"Вейяланъярви\"]\n [\"NAME\" \"Кокколанйоки1\"]\n [\"NAME\" \"Кокколанйоки2\"]\n [\"NAME\" \"Hiitolanjoki\"]]")
	(title "ASALMON_RIVER_ROUTE"))

([Hiitolanjoki_Class80001] of  CloVar

	(source "[[\"NAME\" \"Hiitolanjoki\"]\n [\"NAME\" \"Кокколанйоки2\"]\n [\"NAME\" \"Кокколанйоки1\"]\n [\"NAME\" \"Вейяланъярви\"]\n [\"NAME\" \"Асиланйоки\"]]")
	(title "YSALMON_RIVER_ROUTE"))

([Hiitolanjoki_Class90000] of  CloFunction

	(source "(if (= (.getStatus phase) \"DONE\")\n  (vswap! astate assoc :phase next-key)\n  (.step phase world))")
	(title "process [phase next-key astate world]"))

([Hiitolanjoki_Class90002] of  CloVar

	(source "0.0002")
	(title "YOUNG-RATE"))

([Hiitolanjoki_Class90003] of  CloVar

	(source "0.0003")
	(title "ADULT-RATE"))

([VuoksiLohi_Class0] of  Openmap

	(components
		[igis_Class2]
		[igis_Class3]
		[igis_Class4]
		[igis_Class12]
		[igis_Class40000]
		[igis_Class40001]
		[igis_Class70000]
		[igis_Class14]
		[igis_Class15]
		[igis_Class16]
		[igis_Class17]
		[igis_Class18]
		[igis_Class19]
		[igis_Class20]
		[igis_Class90000]
		[igis_Class21]
		[igis_Class22]
		[igis_Class23]
		[igis_Class25]
		[igis_Class26]
		[igis_Class27]
		[igis_Class28]
		[igis_Class29]
		[igis_Class30])
	(Debug "FINE")
	(label "Hiitolanjoki Map")
	(Latitude "61.29")
	(layers
		[igis_Class40012]
		[Hiitolanjoki_Class0]
		[Hiitolanjoki_Class220001]
		[Hiitolanjoki_Class210000]
		[VuoksiLohi_Class1]
		[Hiitolanjoki_Class10000]
		[igis_Class1]
		[igis_Class40011])
	(Longitude "29.63")
	(Scale "500000")
	(startUpLayers
		[igis_Class40012]
		[Hiitolanjoki_Class10000]
		[VuoksiLohi_Class1]
		[igis_Class1]
		[igis_Class40011]
		[Hiitolanjoki_Class220001]
		[Hiitolanjoki_Class0]
		[Hiitolanjoki_Class210000]))

([VuoksiLohi_Class1] of  ShapeLayer

	(class "com.bbn.openmap.layer.shape.ShapeLayer")
	(fillColor "200000FF")
	(label "HiiRivers")
	(lineColor "ff0000ff")
	(prettyName "Hiitolanjoki Rivers")
	(shapeFile "data/mas/hiitolanjoki/shape/hiitolanjoki_l.shp")
	(spatialIndex "data/mas/hiitolanjoki/shape/hiitolanjoki_l.shx"))

([VuoksiLohi_Class2] of  %3AINSTANCE-ANNOTATION

	(%3AANNOTATED-INSTANCE [VuoksiLohi_Class0])
	(%3ACREATION-TIMESTAMP "2019.08.30 16:32:00.236 MSK")
	(%3ACREATOR "ru"))
